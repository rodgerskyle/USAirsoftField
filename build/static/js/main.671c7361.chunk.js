(this.webpackJsonpusairsoft=this.webpackJsonpusairsoft||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),s=(a(82),a(29),a(13)),i=a(8),c=a(19),u=a(14),m=a(9),d=a(10),E=a(23),h=a(12),p=a(11),v=a(20),f=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(f.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},O=f,g=a(49),S=a.n(g);a(87),a(89);a(63).config();var C={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MEASUREMENT_ID},_=function e(){var t=this;Object(m.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged((function(n){n?t.user(n.uid).once("value").then((function(t){var a=t.val();a.roles||(a.roles={}),n=Object(u.a)({uid:n.uid,email:n.email},a),e(n)})):a()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},S.a.initializeApp(C),this.auth=S.a.auth(),this.db=S.a.database()},P={email:"",error:null},T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then((function(){n.setState(Object(u.a)({},P))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.state=Object(u.a)({},P),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),a}(n.Component),A=function(){return r.a.createElement("p",null,r.a.createElement(s.Link,{to:"/forgotpassword"},"Forgot Password?"))},y=b(T),N=a(75),j={email:"",password:"",error:null,robot:!0},w=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.recaptcha.reset(),n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(){n.setState(Object(u.a)({},j)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.handleCaptchaResponseChange=n.handleCaptchaResponseChange.bind(Object(E.a)(n)),n.state=Object(u.a)({},j),n}return Object(d.a)(a,[{key:"handleCaptchaResponseChange",value:function(e){this.setState({robot:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,l=t.error,o=t.robot,s=""===n||""===a||!0===o;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:s,type:"submit"},"Sign In"),l&&r.a.createElement("p",null,l.message)),r.a.createElement(N.a,{ref:function(t){e.recaptcha=t},sitekey:"6Lc0JPsUAAAAAGfLV1lzptnyO2V1dTU7GfR5_5h5",onChange:this.handleCaptchaResponseChange}))}}]),a}(n.Component),D=Object(v.a)(i.o,b)(w),U=function(){return r.a.createElement("div",{className:"test"},r.a.createElement("h1",null,"SignIn"),r.a.createElement(D,null),r.a.createElement(A,null))},k=a(57),L=a.n(k),I=a(42),R=a(109),W=a(110),K=a(108),x=a(68),B=a(38),H=b((function(e){var t=e.firebase;return r.a.createElement(x.a,{variant:"outline-secondary",onClick:t.doSignOut},"Sign Out")})),M=r.a.createContext(null),V=function(e){var t=function(t){Object(h.a)(n,t);var a=Object(p.a)(n);function n(e){var t;return Object(m.a)(this,n),(t=a.call(this,e)).state={authUser:JSON.parse(localStorage.getItem("authUser"))},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){localStorage.setItem("authUser",JSON.stringify(t)),e.setState({authUser:t})}),(function(){localStorage.removeItem("authUser"),e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(M.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return b(t)},G=function(e){return function(t){var a=function(a){Object(h.a)(l,a);var n=Object(p.a)(l);function l(){return Object(m.a)(this,l),n.apply(this,arguments)}return Object(d.a)(l,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.onAuthUserListener((function(a){e(a)||t.props.history.push("/login")}),(function(){return t.props.history.push("/login")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(M.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),l}(r.a.Component);return Object(v.a)(i.o,b)(a)}},J=function(e){var t=e.authUser;return r.a.createElement("div",null,r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"logobox"},r.a.createElement("img",{src:L.a,alt:"US Airsoft logo",className:"logo"})),r.a.createElement("div",{className:"login"},r.a.createElement("p",{className:"welcome"},"Welcome ",t.username,"!"),r.a.createElement(I.a,null,r.a.createElement(H,null)))),r.a.createElement("div",{className:"navbar"},r.a.createElement(R.a,{collapseOnSelect:!0,expand:"lg",bg:"nav",variant:"light"},r.a.createElement(W.a,{className:"mr-auto"},r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/"},"Home"))),r.a.createElement(R.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(R.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(W.a,{className:"mr-auto"},r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/leaderboard"},"Leaderboard")),r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/pricing"},"Pricing")),r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/account"},"My Account")),!!t.roles.ADMIN&&r.a.createElement(K.a,{title:"Admin",id:"nav-dropdown"},r.a.createElement(B.LinkContainer,{to:"/enterwins"},r.a.createElement(K.a.Item,{eventKey:4.1},"Update Wins")),r.a.createElement(B.LinkContainer,{to:"/enterlosses"},r.a.createElement(K.a.Item,{eventKey:4.2},"Update Losses")),r.a.createElement(K.a.Divider,null),r.a.createElement(B.LinkContainer,{to:"/admin"},r.a.createElement(K.a.Item,{eventKey:4.3},"Testing"))))))))},z=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"logobox"},r.a.createElement("img",{src:L.a,alt:"US Airsoft logo",className:"logo"})),r.a.createElement("div",{className:"login"},r.a.createElement(x.a,{variant:"outline-secondary"},r.a.createElement(B.LinkContainer,{to:"/login"},r.a.createElement(I.a,null,"Login"))))),r.a.createElement("div",{className:"navbar"},r.a.createElement(R.a,{collapseOnSelect:!0,expand:"lg",bg:"nav",variant:"light"},r.a.createElement(W.a,{className:"mr-auto"},r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/"},"Home"))),r.a.createElement(R.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(R.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(W.a,{className:"mr-auto"},r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/leaderboard"},"Leaderboard")),r.a.createElement(I.a,null,r.a.createElement(s.Link,{className:"nav-link",to:"/pricing"},"Pricing")))))))},F=function(e){e.authUser;return r.a.createElement("div",null,r.a.createElement(M.Consumer,null,(function(e){return e?r.a.createElement(J,{authUser:e}):r.a.createElement(z,null)})))},Y={passwordOne:"",passwordTwo:"",error:null},$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then((function(){n.setState(Object(u.a)({},Y))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.state=Object(u.a)({},Y),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),q=b($),Q=G((function(e){return!!e}))((function(){return r.a.createElement(M.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",{className:"pagePlaceholder"},"Account Page"),r.a.createElement(y,null),r.a.createElement(q,null))}))})),X=a(73),Z=a.n(X),ee=function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("img",{src:Z.a,alt:"Swat team at US Airsoft",className:"bannerimg"}),r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"overlayText"},"The premier airsoft arena in the United States, Home of the first Stat Tracking & Leaderboard system!"))},te=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={loading:!1,users:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",(function(t){var a=t.val(),n=Object.keys(a).map((function(e){return Object(u.a)(Object(u.a)({},a[e]),{},{uid:e})}));e.setState({users:n,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return r.a.createElement("div",{className:"pagePlaceholder"},r.a.createElement("h1",null,"Admin"),a&&r.a.createElement("div",null,"Loading ..."),r.a.createElement(ae,{users:t}))}}]),a}(n.Component),ae=function(e){var t=e.users;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username))})))},ne=Object(v.a)(G((function(e){return e&&!!e.roles.ADMIN})),b)(te),re={username:"",email:"",passwordOne:"",passwordTwo:"",isAdmin:!1,error:null},le=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onChangeCheckbox=function(e){n.setState(Object(c.a)({},e.target.name,e.target.checked))},n.onSubmit=function(e){var t=n.state,a=t.username,r=t.email,l=t.passwordOne,o=t.isAdmin,s={};o&&(s.ADMIN="ADMIN"),n.props.firebase.doCreateUserWithEmailAndPassword(r,l).then((function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r,roles:s})})).then((function(e){n.setState(Object(u.a)({},re)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.state=Object(u.a)({},re),n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,o=e.isAdmin,s=e.error,i=n!==l||""===n||""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("label",null,"Admin:",r.a.createElement("input",{name:"isAdmin",type:"checkbox",checked:o,onChange:this.onChangeCheckbox})),r.a.createElement("button",{disabled:i,type:"submit"},"Sign Up"),s&&r.a.createElement("p",null,s.message))}}]),a}(n.Component),oe=Object(i.o)(b(le)),se=function(){return r.a.createElement("div",{className:"pagePlaceholder"},r.a.createElement("h1",null,"SignUp"),r.a.createElement(oe,null))},ie=a(107);a(63).config();var ce=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateUser=function(e){e.preventDefault();var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_CALL_WIN+n.state.value;fetch(t).then((function(e){var t=e;console.log(t)})),document.getElementById("usernameBox").focus(),n.setState({value:""})},n.state={results:"Here is where results will appear",value:""},n.handleChange=n.handleChange.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;document.getElementById("usernameBox").focus(),document.addEventListener("keypress",(function(t){return e.handleKeypress(t)}))}},{key:"handleKeypress",value:function(e){13===e.keyCode&&document.getElementById("usernameBox").focus()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"pagePlaceholder"},"Admin - Enter Wins"),r.a.createElement("div",{className:"form-box"},r.a.createElement(ie.a,{id:"formBox",onSubmit:this.updateUser},r.a.createElement(ie.a.Group,{controlId:"usernameBox"},r.a.createElement(ie.a.Label,null,"Username"),r.a.createElement(ie.a.Control,{onChange:this.handleChange,value:this.state.value,placeholder:"Enter username to add points to"}),r.a.createElement(ie.a.Text,{id:"userName",className:"text-muted"},this.state.results),r.a.createElement(x.a,{type:"submit",id:"register",variant:"primary"},"Submit")))))}}]),a}(n.Component),ue=Object(v.a)(G((function(e){return e&&!!e.roles.ADMIN})),b)(ce),me=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateUser=function(e){e.preventDefault();var t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_CALL_LOSS+n.state.value;fetch(t).then((function(e){var t=e;console.log(t)})),document.getElementById("usernameBox").focus(),n.setState({value:""})},n.state={results:"Here is where results will appear",value:""},n.handleChange=n.handleChange.bind(Object(E.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;document.getElementById("usernameBox").focus(),document.addEventListener("keypress",(function(t){return e.handleKeypress(t)}))}},{key:"handleKeypress",value:function(e){13===e.keyCode&&document.getElementById("usernameBox").focus()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"pagePlaceholder"},"Admin - Enter Losses"),r.a.createElement("div",{className:"form-box"},r.a.createElement(ie.a,{id:"formBox",onSubmit:this.updateUser},r.a.createElement(ie.a.Group,{controlId:"usernameBox"},r.a.createElement(ie.a.Label,null,"Username"),r.a.createElement(ie.a.Control,{onChange:this.handleChange,value:this.state.value,placeholder:"Enter username to add points to"}),r.a.createElement(ie.a.Text,{id:"userName",className:"text-muted"},this.state.results),r.a.createElement(x.a,{type:"submit",id:"register",variant:"primary"},"Submit")))))}}]),a}(n.Component),de=Object(v.a)(G((function(e){return e&&!!e.roles.ADMIN})),b)(me);function Ee(){return r.a.createElement("h2",{className:"pagePlaceholder"},"Leaderboard")}function he(){return r.a.createElement("h2",{className:"pagePlaceholder"},"Pricing")}function pe(){return r.a.createElement("div",{className:"pagePlaceholder"},r.a.createElement(U,null))}var ve=V((function(){return r.a.createElement(s.BrowserRouter,null,r.a.createElement("div",{className:"staticBG"},r.a.createElement(F,null),r.a.createElement(i.g,null,r.a.createElement(i.d,{path:"/enterwins"},r.a.createElement(ue,null)),r.a.createElement(i.d,{path:"/enterlosses"},r.a.createElement(de,null)),r.a.createElement(i.d,{path:"/register"},r.a.createElement(se,null)),r.a.createElement(i.d,{path:"/admin"},r.a.createElement(ne,null)),r.a.createElement(i.d,{path:"/account"},r.a.createElement(Q,null)),r.a.createElement(i.d,{path:"/forgotpassword"},r.a.createElement(y,null)),r.a.createElement(i.d,{path:"/login"},r.a.createElement(pe,null)),r.a.createElement(i.d,{path:"/leaderboard"},r.a.createElement(Ee,null)),r.a.createElement(i.d,{path:"/pricing"},r.a.createElement(he,null)),r.a.createElement(i.d,{path:"/"},r.a.createElement(ee,null)))))}));a(101),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.Provider,{value:new _},r.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/us-airsoft-logo.535ce2fb.png"},73:function(e,t,a){e.exports=a.p+"static/media/airsoftbanner.93d9ab67.jpg"},77:function(e,t,a){e.exports=a(102)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.671c7361.chunk.js.map