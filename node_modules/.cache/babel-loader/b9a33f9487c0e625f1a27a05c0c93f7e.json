{"ast":null,"code":"import _objectSpread from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'../../App.css';import{withFirebase}from'../Firebase';import{withAuthorization}from'../session';import{compose}from'recompose';import*as ROLES from'../constants/roles';var AdminPage=/*#__PURE__*/function(_Component){_inherits(AdminPage,_Component);var _super=_createSuper(AdminPage);function AdminPage(props){var _this;_classCallCheck(this,AdminPage);_this=_super.call(this,props);_this.state={loading:false,users:[]};return _this;}_createClass(AdminPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true});this.props.firebase.users().on('value',function(snapshot){var usersObject=snapshot.val();var usersList=Object.keys(usersObject).map(function(key){return _objectSpread(_objectSpread({},usersObject[key]),{},{uid:key});});_this2.setState({users:usersList,loading:false});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.firebase.users().off();}},{key:\"render\",value:function render(){var _this$state=this.state,users=_this$state.users,loading=_this$state.loading;return/*#__PURE__*/React.createElement(\"div\",{className:\"pagePlaceholder\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Admin\"),loading&&/*#__PURE__*/React.createElement(\"div\",null,\"Loading ...\"),/*#__PURE__*/React.createElement(UserList,{users:users}));}}]);return AdminPage;}(Component);var UserList=function UserList(_ref){var users=_ref.users;return/*#__PURE__*/React.createElement(\"ul\",null,users.map(function(user){return/*#__PURE__*/React.createElement(\"li\",{key:user.uid},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"ID:\"),\" \",user.uid),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"E-Mail:\"),\" \",user.email),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Username:\"),\" \",user.username));}));};var condition=function condition(authUser){return authUser&&!!authUser.roles[ROLES.ADMIN];};export default compose(withAuthorization(condition),withFirebase)(AdminPage);","map":{"version":3,"sources":["/home/kyle/USAirsoftField/src/components/Pages/Admin.js"],"names":["React","Component","withFirebase","withAuthorization","compose","ROLES","AdminPage","props","state","loading","users","setState","firebase","on","snapshot","usersObject","val","usersList","Object","keys","map","key","uid","off","UserList","user","email","username","condition","authUser","roles","ADMIN"],"mappings":"+rBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,eAAP,CAEA,OAASC,YAAT,KAA6B,aAA7B,CACA,OAASC,iBAAT,KAAkC,YAAlC,CACA,OAASC,OAAT,KAAwB,WAAxB,CAEA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,oBAAvB,C,GAEMC,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,KADA,CAETC,KAAK,CAAE,EAFE,CAAb,CAHiB,aAOhB,C,mFAEmB,iBAClB,KAAKC,QAAL,CAAc,CAAEF,OAAO,CAAE,IAAX,CAAd,EAEA,KAAKF,KAAL,CAAWK,QAAX,CAAoBF,KAApB,GAA4BG,EAA5B,CAA+B,OAA/B,CAAwC,SAAAC,QAAQ,CAAI,CAClD,GAAMC,CAAAA,WAAW,CAAGD,QAAQ,CAACE,GAAT,EAApB,CAEA,GAAMC,CAAAA,SAAS,CAAGC,MAAM,CAACC,IAAP,CAAYJ,WAAZ,EAAyBK,GAAzB,CAA6B,SAAAC,GAAG,wCAC7CN,WAAW,CAACM,GAAD,CADkC,MAEhDC,GAAG,CAAED,GAF2C,IAAhC,CAAlB,CAKA,MAAI,CAACV,QAAL,CAAc,CACZD,KAAK,CAAEO,SADK,CAEZR,OAAO,CAAE,KAFG,CAAd,EAID,CAZD,EAaD,C,mEAEsB,CACnB,KAAKF,KAAL,CAAWK,QAAX,CAAoBF,KAApB,GAA4Ba,GAA5B,GACH,C,uCAEQ,iBACsB,KAAKf,KAD3B,CACGE,KADH,aACGA,KADH,CACUD,OADV,aACUA,OADV,CAGL,mBACE,2BAAK,SAAS,CAAC,iBAAf,eACE,sCADF,CAGGA,OAAO,eAAI,6CAHd,cAKE,oBAAC,QAAD,EAAU,KAAK,CAAEC,KAAjB,EALF,CADF,CASD,C,uBA5CiBT,S,EA+CpB,GAAMuB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,UAAGd,CAAAA,KAAH,MAAGA,KAAH,oBACf,8BACGA,KAAK,CAACU,GAAN,CAAU,SAAAK,IAAI,qBACb,0BAAI,GAAG,CAAEA,IAAI,CAACH,GAAd,eACE,6CACE,wCADF,KACwBG,IAAI,CAACH,GAD7B,CADF,cAIE,6CACE,4CADF,KAC4BG,IAAI,CAACC,KADjC,CAJF,cAOE,6CACE,8CADF,KAC8BD,IAAI,CAACE,QADnC,CAPF,CADa,EAAd,CADH,CADe,EAAjB,CAkBJ,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,QAAQ,QAC1BA,CAAAA,QAAQ,EAAI,CAAC,CAACA,QAAQ,CAACC,KAAT,CAAezB,KAAK,CAAC0B,KAArB,CADY,EAA1B,CAGA,cAAe3B,CAAAA,OAAO,CAClBD,iBAAiB,CAACyB,SAAD,CADC,CAElB1B,YAFkB,CAAP,CAGTI,SAHS,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport '../../App.css';\n\nimport { withFirebase } from '../Firebase';\nimport { withAuthorization } from '../session';\nimport { compose } from 'recompose';\n\nimport * as ROLES from '../constants/roles';\n \nclass AdminPage extends Component {\n  constructor(props) {\n    super(props);\n \n    this.state = {\n        loading: false,\n        users: [],\n      };\n    }\n   \n    componentDidMount() {\n      this.setState({ loading: true });\n   \n      this.props.firebase.users().on('value', snapshot => {\n        const usersObject = snapshot.val();\n   \n        const usersList = Object.keys(usersObject).map(key => ({\n          ...usersObject[key],\n          uid: key,\n        }));\n   \n        this.setState({\n          users: usersList,\n          loading: false,\n        });\n      });\n    }\n\n    componentWillUnmount() {\n        this.props.firebase.users().off();\n    }\n\n    render() {\n        const { users, loading } = this.state;\n     \n        return (\n          <div className=\"pagePlaceholder\">\n            <h1>Admin</h1>\n     \n            {loading && <div>Loading ...</div>}\n     \n            <UserList users={users} />\n          </div>\n        );\n      }\n    }\n     \n    const UserList = ({ users }) => (\n      <ul>\n        {users.map(user => (\n          <li key={user.uid}>\n            <span>\n              <strong>ID:</strong> {user.uid}\n            </span>\n            <span>\n              <strong>E-Mail:</strong> {user.email}\n            </span>\n            <span>\n              <strong>Username:</strong> {user.username}\n            </span>\n          </li>\n        ))}\n      </ul>\n    );\n\nconst condition = authUser =>\nauthUser && !!authUser.roles[ROLES.ADMIN];\n \nexport default compose(\n    withAuthorization(condition),\n    withFirebase,\n    )(AdminPage);"]},"metadata":{},"sourceType":"module"}