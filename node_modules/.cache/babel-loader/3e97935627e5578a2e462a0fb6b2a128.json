{"ast":null,"code":"import _objectSpread from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kyle/USAirsoftField/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import'../../App.css';import{withFirebase}from'../Firebase';import*as ROLES from'../constants/roles';var SignUpPage=function SignUpPage(){return/*#__PURE__*/React.createElement(\"div\",{className:\"pagePlaceholder\"},/*#__PURE__*/React.createElement(\"h1\",null,\"SignUp\"),/*#__PURE__*/React.createElement(SignUpForm,null));};var INITIAL_STATE={username:'',email:'',passwordOne:'',passwordTwo:'',isAdmin:false,error:null};var SignUpFormBase=/*#__PURE__*/function(_Component){_inherits(SignUpFormBase,_Component);var _super=_createSuper(SignUpFormBase);function SignUpFormBase(props){var _this;_classCallCheck(this,SignUpFormBase);_this=_super.call(this,props);_this.onChangeCheckbox=function(event){_this.setState(_defineProperty({},event.target.name,event.target.checked));};_this.onSubmit=function(event){var _this$state=_this.state,username=_this$state.username,email=_this$state.email,passwordOne=_this$state.passwordOne,isAdmin=_this$state.isAdmin;var roles={};if(isAdmin){roles[ROLES.ADMIN]=ROLES.ADMIN;}_this.props.firebase.doCreateUserWithEmailAndPassword(email,passwordOne).then(function(authUser){// Create a user in your Firebase realtime database\nreturn _this.props.firebase.user(authUser.user.uid).set({username:username,email:email,roles:roles});}).then(function(authUser){_this.setState(_objectSpread({},INITIAL_STATE));_this.props.history.push(\"/\");}).catch(function(error){_this.setState({error:error});});event.preventDefault();};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_objectSpread({},INITIAL_STATE);return _this;}_createClass(SignUpFormBase,[{key:\"render\",value:function render(){var _this$state2=this.state,username=_this$state2.username,email=_this$state2.email,passwordOne=_this$state2.passwordOne,passwordTwo=_this$state2.passwordTwo,isAdmin=_this$state2.isAdmin,error=_this$state2.error;var isInvalid=passwordOne!==passwordTwo||passwordOne===''||email===''||username==='';return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"input\",{name:\"username\",value:username,onChange:this.onChange,type:\"text\",placeholder:\"Full Name\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",value:email,onChange:this.onChange,type:\"text\",placeholder:\"Email Address\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"passwordOne\",value:passwordOne,onChange:this.onChange,type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"passwordTwo\",value:passwordTwo,onChange:this.onChange,type:\"password\",placeholder:\"Confirm Password\"}),/*#__PURE__*/React.createElement(\"label\",null,\"Admin:\",/*#__PURE__*/React.createElement(\"input\",{name:\"isAdmin\",type:\"checkbox\",checked:isAdmin,onChange:this.onChangeCheckbox})),/*#__PURE__*/React.createElement(\"button\",{disabled:isInvalid,type:\"submit\"},\"Sign Up\"),error&&/*#__PURE__*/React.createElement(\"p\",null,error.message));}}]);return SignUpFormBase;}(Component);var SignUpLink=function SignUpLink(){return/*#__PURE__*/React.createElement(\"p\",null,\"Don't have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Sign Up\"));};var SignUpForm=withRouter(withFirebase(SignUpFormBase));export default SignUpPage;export{SignUpForm,SignUpLink};","map":{"version":3,"sources":["/home/kyle/USAirsoftField/src/components/Pages/Signup.js"],"names":["React","Component","Link","withRouter","withFirebase","ROLES","SignUpPage","INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","error","SignUpFormBase","props","onChangeCheckbox","event","setState","target","name","checked","onSubmit","state","roles","ADMIN","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","history","push","catch","preventDefault","onChange","value","isInvalid","message","SignUpLink","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport '../../App.css';\n\nimport { withFirebase } from '../Firebase';\nimport * as ROLES from '../constants/roles';\n \n \nconst SignUpPage = () => (\n  <div className=\"pagePlaceholder\">\n    <h1>SignUp</h1>\n    <SignUpForm />\n  </div>\n);\n\n\nconst INITIAL_STATE = {\n    username: '',\n    email: '',\n    passwordOne: '',\n    passwordTwo: '',\n    isAdmin: false,\n    error: null,\n  };\n \nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n    onChangeCheckbox = event => {\n        this.setState({ [event.target.name]: event.target.checked });\n    };\n \n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = {};\n    if (isAdmin) {\n    roles[ROLES.ADMIN] = ROLES.ADMIN;\n    }\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase\n          .user(authUser.user.uid)\n          .set({\n            username,\n            email,\n            roles,\n          });\n      })\n      .then(authUser => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(\"/\");\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n \n    event.preventDefault();\n  }\n \n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n \n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      isAdmin,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n \n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n        />\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n        />\n        <label>\n            Admin:\n            <input\n            name=\"isAdmin\"\n            type=\"checkbox\"\n            checked={isAdmin}\n            onChange={this.onChangeCheckbox}\n            />\n        </label>\n        <button disabled={isInvalid} type=\"submit\">\n            Sign Up\n        </button>\n \n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n \nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={\"/register\"}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\n \nexport default SignUpPage;\n \nexport { SignUpForm, SignUpLink };"]},"metadata":{},"sourceType":"module"}