{"ast":null,"code":"var _jsxFileName = \"/Users/kyle/Csci/capstone2/usairsoft/src/components/Pages/Admin.js\";\nimport React, { Component } from 'react';\nimport '../../App.css';\nimport { AuthUserContext, withAuthorization } from '../session';\nimport { compose } from 'recompose';\nimport * as ROLES from '../constants/roles';\n\nclass AdminPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.props.firebase.users().on('value', snapshot => {\n      const usersObject = snapshot.val();\n      const usersList = Object.keys(usersObject).map(key => ({ ...usersObject[key],\n        uid: key\n      }));\n      this.setState({\n        users: usersList,\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const {\n      users,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pagePlaceholder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Admin\"), loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \"Loading ...\"), /*#__PURE__*/React.createElement(UserList, {\n      users: users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nconst UserList = ({\n  users\n}) => /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 7\n  }\n}, users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n  key: user.uid,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 15\n  }\n}, \"ID:\"), \" \", user.uid), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 15\n  }\n}, \"E-Mail:\"), \" \", user.email), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 15\n  }\n}, \"Username:\"), \" \", user.username), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 15\n  }\n}, \"Privelege:\"), \" \", user.privelege))));\n\nconst condition = authUser => authUser && !!authUser.roles[ROLES.ADMIN];\n\nexport default compose(withAuthorization(condition), withFirebase)(AdminPage);","map":{"version":3,"sources":["/Users/kyle/Csci/capstone2/usairsoft/src/components/Pages/Admin.js"],"names":["React","Component","AuthUserContext","withAuthorization","compose","ROLES","AdminPage","constructor","props","state","loading","users","componentDidMount","setState","firebase","on","snapshot","usersObject","val","usersList","Object","keys","map","key","uid","componentWillUnmount","off","render","UserList","user","email","username","privelege","condition","authUser","roles","ADMIN","withFirebase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../../App.css';\n \nimport { AuthUserContext, withAuthorization } from '../session';\n\nimport { compose } from 'recompose';\n\nimport * as ROLES from '../constants/roles';\n \nclass AdminPage extends Component {\n  constructor(props) {\n    super(props);\n \n    this.state = {\n        loading: false,\n        users: [],\n      };\n    }\n   \n    componentDidMount() {\n      this.setState({ loading: true });\n   \n      this.props.firebase.users().on('value', snapshot => {\n        const usersObject = snapshot.val();\n   \n        const usersList = Object.keys(usersObject).map(key => ({\n          ...usersObject[key],\n          uid: key,\n        }));\n   \n        this.setState({\n          users: usersList,\n          loading: false,\n        });\n      });\n    }\n\n    componentWillUnmount() {\n        this.props.firebase.users().off();\n    }\n\n    render() {\n        const { users, loading } = this.state;\n     \n        return (\n          <div className=\"pagePlaceholder\">\n            <h1>Admin</h1>\n     \n            {loading && <div>Loading ...</div>}\n     \n            <UserList users={users} />\n          </div>\n        );\n      }\n    }\n     \n    const UserList = ({ users }) => (\n      <ul>\n        {users.map(user => (\n          <li key={user.uid}>\n            <span>\n              <strong>ID:</strong> {user.uid}\n            </span>\n            <span>\n              <strong>E-Mail:</strong> {user.email}\n            </span>\n            <span>\n              <strong>Username:</strong> {user.username}\n            </span>\n            <span>\n              <strong>Privelege:</strong> {user.privelege}\n            </span>\n          </li>\n        ))}\n      </ul>\n    );\n\nconst condition = authUser =>\nauthUser && !!authUser.roles[ROLES.ADMIN];\n \nexport default compose(\n    withAuthorization(condition),\n    withFirebase,\n    )(AdminPage);"]},"metadata":{},"sourceType":"module"}