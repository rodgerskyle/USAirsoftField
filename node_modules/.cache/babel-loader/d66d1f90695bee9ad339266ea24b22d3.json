{"ast":null,"code":"var _jsxFileName = \"/home/kyle/USAirsoftField/src/components/Pages/ImageUpload.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap/';\nimport { AuthUserContext, withAuthorization } from '../session';\nimport { withFirebase } from '../Firebase';\n\nclass ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({\n          image\n        }));\n      }\n    };\n\n    this.handleUpload = () => {\n      const {\n        image\n      } = this.state;\n      const isInvalid = this.state === null;\n      const uploadTask = this.props.firebase.pictures(`${image.name}`).put(image);\n      uploadTask.on(\"state_changed\", snapshot => {\n        // progress function ...\n        const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        this.setState({\n          progress\n        });\n      }, error => {\n        // Error function ...\n        console.log(error);\n      }, () => {\n        // complete function ...\n        this.props.firebase.pictures(image.name).getDownloadURL().then(url => {\n          this.setState({\n            url\n          });\n        });\n      });\n    };\n\n    this.state = {\n      image: null,\n      url: \"\",\n      progress: 0\n    };\n  }\n\n  render() {\n    const isInvalid = this.state.image === null;\n    return /*#__PURE__*/React.createElement(AuthUserContext.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, authUser => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, \"New Profile Picture\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"progress\", {\n      value: this.state.progress,\n      max: \"100\",\n      className: \"progress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-field input-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, \"File\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"file-path-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"file-path validate\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleUpload,\n      className: \"waves-effect waves-light btn\",\n      disabled: isInvalid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.url || \"https://via.placeholder.com/400x300\",\n      alt: \"Uploaded Images\",\n      height: \"300\",\n      width: \"400\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withFirebase(withAuthorization(condition)(ImageUpload));","map":{"version":3,"sources":["/home/kyle/USAirsoftField/src/components/Pages/ImageUpload.js"],"names":["React","Component","Container","Row","Col","AuthUserContext","withAuthorization","withFirebase","ImageUpload","constructor","props","handleChange","e","target","files","image","setState","handleUpload","state","isInvalid","uploadTask","firebase","pictures","name","put","on","snapshot","progress","Math","round","bytesTransferred","totalBytes","error","console","log","getDownloadURL","then","url","render","authUser","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { Container, Row, Col } from 'react-bootstrap/';\n\nimport { AuthUserContext, withAuthorization } from '../session';\n\nimport { withFirebase } from '../Firebase';\n\nclass ImageUpload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: null,\n            url: \"\",\n            progress: 0\n        };\n    }\n\n    handleChange = e => {\n        if (e.target.files[0]) {\n            const image = e.target.files[0];\n            this.setState(() => ({ image }));\n        }\n    };\n\n    handleUpload = () => {\n        const { image } = this.state;\n        const isInvalid = this.state === null;\n        const uploadTask = this.props.firebase.pictures(`${image.name}`).put(image);\n        uploadTask.on(\n            \"state_changed\",\n            snapshot => {\n                // progress function ...\n                const progress = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                this.setState({ progress });\n            },\n            error => {\n                // Error function ...\n                console.log(error);\n            },\n            () => {\n                // complete function ...\n                this.props.firebase\n                    .pictures(image.name)\n                    .getDownloadURL()\n                    .then(url => {\n                        this.setState({ url });\n                    });\n            }\n        );\n    };\n    render() {\n        const isInvalid = this.state.image === null;\n        return (\n            <AuthUserContext.Consumer>\n                {authUser => (\n                    <div className=\"container\">\n                        <br />\n                        <h2>New Profile Picture</h2>\n                        <br />\n                        <br />\n                        <div className=\"row\">\n                            <progress value={this.state.progress} max=\"100\" className=\"progress\" />\n                        </div>\n                        <br />\n                        <br />\n                        <br />\n                        <div className=\"file-field input-field\">\n                            <div className=\"btn\">\n                                <span>File</span>\n                                <input type=\"file\" onChange={this.handleChange} />\n                            </div>\n                            <div className=\"file-path-wrapper\">\n                                <input className=\"file-path validate\" type=\"text\" />\n                            </div>\n                        </div>\n                        <button\n                            onClick={this.handleUpload}\n                            className=\"waves-effect waves-light btn\"\n                            disabled={isInvalid}\n                        >\n                            Upload\n                        </button>\n                        <br />\n                        <br />\n                        <img\n                            src={this.state.url || \"https://via.placeholder.com/400x300\"}\n                            alt=\"Uploaded Images\"\n                            height=\"300\"\n                            width=\"400\"\n                        />\n                    </div>\n\n                )}\n            </AuthUserContext.Consumer>\n        );\n    }\n}\n\nconst condition = authUser => !!authUser;\n\nexport default withFirebase(withAuthorization(condition)(ImageUpload));"]},"metadata":{},"sourceType":"module"}