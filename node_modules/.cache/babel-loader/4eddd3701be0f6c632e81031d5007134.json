{"ast":null,"code":"var _jsxFileName = \"/Users/kyle/Csci/capstone2/usairsoft/src/components/Pages/leaderboard.js\";\nimport React, { Component } from 'react';\nimport { Table } from 'react-bootstrap/';\nimport '../../App.css';\nimport rankimages from '../constants/smallrankimgs';\nimport { withFirebase } from '../Firebase';\n\nclass Leaderboards extends Component {\n  constructor(props) {\n    super(props);\n\n    this.UserList = ({\n      users\n    }) =>\n    /*#__PURE__*/\n    //const UserList = UserList.sort((a,b) => a.points - b.points).map((user, i) => \n    React.createElement(Table, {\n      className: \"table table-striped table-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, \"Rank\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Points\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, users.sort((a, b) => a.points < b.points ? 1 : -1).map((user, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: user.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.images !== null ? this.state.images[getRank(user.points)] : null,\n      alt: \"Player Rank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, user.points)))));\n\n    this.state = {\n      images: rankimages,\n      loading: false,\n      users: []\n    };\n  } //Figuring out rank logic\n\n\n  getRank(points) {\n    var index = 1;\n\n    if (points < 125) {\n      index = 1;\n    } else if (points < 225) {\n      index = 2;\n    } else if (points < 335) {\n      index = 3;\n    } else if (points < 450) {\n      index = 4;\n    } else if (points < 570) {\n      index = 5;\n    } else if (points < 690) {\n      index = 6;\n    } else if (points < 820) {\n      index = 7;\n    } else if (points < 960) {\n      index = 8;\n    } else if (points < 1110) {\n      index = 9;\n    } else if (points < 1270) {\n      index = 10;\n    } else if (points < 1440) {\n      index = 11;\n    } else if (points < 1640) {\n      index = 12;\n    } else if (points < 1840) {\n      index = 13;\n    } else if (points < 2090) {\n      index = 14;\n    } else if (points < 2340) {\n      index = 15;\n    } else if (points < 2615) {\n      index = 16;\n    } else if (points < 2890) {\n      index = 17;\n    } else if (points < 3190) {\n      index = 18;\n    } else if (points < 3490) {\n      index = 19;\n    } else if (points < 3790) {\n      index = 20;\n    } else if (points < 4115) {\n      index = 21;\n    } else if (points < 4500) {\n      index = 22;\n    } else {\n      index = 23;\n    }\n\n    index--;\n    return index;\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.props.firebase.users().on('value', snapshot => {\n      const usersObject = snapshot.val();\n      const usersList = Object.keys(usersObject).map(key => ({ ...usersObject[key],\n        uid: key\n      }));\n      this.setState({\n        users: usersList,\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const {\n      users,\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pagePlaceholder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Leaderboards\"), loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 29\n      }\n    }, \"Loading ...\"), /*#__PURE__*/React.createElement(UserList, {\n      users: users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }));\n  } //UserList.sort((a,b) => a.points - b.points);\n\n\n}\n\nexport default withFirebase(Leaderboards);","map":{"version":3,"sources":["/Users/kyle/Csci/capstone2/usairsoft/src/components/Pages/leaderboard.js"],"names":["React","Component","Table","rankimages","withFirebase","Leaderboards","constructor","props","UserList","users","sort","a","b","points","map","user","i","uid","state","images","getRank","name","loading","index","componentDidMount","setState","firebase","on","snapshot","usersObject","val","usersList","Object","keys","key","componentWillUnmount","off","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table } from 'react-bootstrap/';\nimport '../../App.css';\n\nimport rankimages from '../constants/smallrankimgs';\n\nimport { withFirebase } from '../Firebase';\n\nclass Leaderboards extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            images: rankimages,\n            loading: false,\n            users: [],\n        };\n    }\n\n    //Figuring out rank logic\n    getRank(points) {\n        var index = 1;\n        if (points < 125) {\n            index = 1;\n        }\n        else if (points < 225) {\n            index = 2;\n        }\n        else if (points < 335) {\n            index = 3;\n        }\n        else if (points < 450) {\n            index = 4;\n        }\n        else if (points < 570) {\n            index = 5;\n        }\n        else if (points < 690) {\n            index = 6;\n        }\n        else if (points < 820) {\n            index = 7;\n        }\n        else if (points < 960) {\n            index = 8;\n        }\n        else if (points < 1110) {\n            index = 9;\n        }\n        else if (points < 1270) {\n            index = 10;\n        }\n        else if (points < 1440) {\n            index = 11;\n        }\n        else if (points < 1640) {\n            index = 12;\n        }\n        else if (points < 1840) {\n            index = 13;\n        }\n        else if (points < 2090) {\n            index = 14;\n        }\n        else if (points < 2340) {\n            index = 15;\n        }\n        else if (points < 2615) {\n            index = 16;\n        }\n        else if (points < 2890) {\n            index = 17;\n        }\n        else if (points < 3190) {\n            index = 18;\n        }\n        else if (points < 3490) {\n            index = 19;\n        }\n        else if (points < 3790) {\n            index = 20;\n        }\n        else if (points < 4115) {\n            index = 21;\n        }\n        else if (points < 4500) {\n            index = 22;\n        }\n        else {\n            index = 23;\n        }\n        index--;\n        return index;\n    }\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        this.props.firebase.users().on('value', snapshot => {\n            const usersObject = snapshot.val();\n\n            const usersList = Object.keys(usersObject).map(key => ({\n                ...usersObject[key],\n                uid: key,\n            }));\n\n            this.setState({\n                users: usersList,\n                loading: false,\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.firebase.users().off();\n    }\n\n    render() {\n        const { users, loading } = this.state;\n\n        return (\n            <div className=\"pagePlaceholder\">\n                <h1>Leaderboards</h1>\n\n                {loading && <div>Loading ...</div>}\n\n                <UserList users={users} />\n            </div>\n        );\n    }\n//UserList.sort((a,b) => a.points - b.points);\nUserList = ({ users }) => (\n//const UserList = UserList.sort((a,b) => a.points - b.points).map((user, i) => \n    <Table className=\"table table-striped table-dark\">\n        <thead>\n            <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Rank</th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Points</th>\n            </tr>\n        </thead>\n        <tbody>\n            {users.sort((a,b) => a.points < b.points ? 1 : -1).map((user, i) => (\n                <tr key={user.uid}>\n                    <th scope=\"row\">{i+1}</th>\n                        <td><img src={this.state.images !== null ? this.state.images[getRank(user.points)] : null} \n                        alt=\"Player Rank\" /></td>\n                        <td>{user.name}</td>\n                        <td>{user.points}</td>\n                </tr>\n            ))}\n        </tbody>\n    </Table>\n);\n}\n\n\n\nexport default withFirebase(Leaderboards);"]},"metadata":{},"sourceType":"module"}